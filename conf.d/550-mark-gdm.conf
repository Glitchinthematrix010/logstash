filter {
  if [syslog][identifier] == "/usr/libexec/gdm-x-session" {
    grok {
      patterns_dir => [ "/etc/logstash/patterns.d/" ]
      tag_on_failure => [ ]
      add_tag => [ "Known Message" ]
      match => { "message" => [
        "^\(--\) NVIDIA\(GPU-%{INT}\):$",
        "^\(--\) NVIDIA\(GPU-%{INT}\): (%{DATA} )?(CRT|DFP)-[01]: %{INT}\.%{INT} MHz maximum pixel clock$",
        "^\(--\) NVIDIA\(GPU-%{INT}\): (%{DATA} )?(CRT|DFP)-[01]: disconnected$",
        "^\(--\) NVIDIA\(GPU-%{INT}\): (%{DATA} )?(CRT|DFP)-[01]: (connected|Internal TMDS)$",
        "^\(II\) NVIDIA\(%{INT}\): Setting mode \"%{DATA}\"$",
        "^\(\*\*\) NVIDIA\(%{INT}\):     device %{DATA} \((CRT|DFP)-%{INT}\) \(Using EDID frequencies has been$",
        "^\(\*\*\) NVIDIA\(%{INT}\):     enabled on all display devices\.\)$",
        "^\(\*\*\) NVIDIA\(%{INT}\): Using HorizSync/VertRefresh ranges from the EDID for display$"

      ] }
    }
  }
}
